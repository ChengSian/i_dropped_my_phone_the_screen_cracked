/*! i-dropped-my-phone-the-screen-cracked 31-07-2014 */
!function(){"use strict";function a(){if(arguments&&arguments.length)if(i())b(arguments[0]);else{var a=arguments[0];U=a,T=F(a)}else e();return S=null,Y}function b(){if(arguments&&arguments.length){for(var a,b=arguments[0].split(","),c=k(),d=j().getUUID(),e=0;e<b.length;e++)b[e]=-1!==b[e].indexOf(c)?b[e]:c+b[e];a=b.join(","),U=a,T=F(a),T.forEach(function(a,b,c){a&&E(a).getMacroContainerUUID()!==d&&c.splice(b,1)})}}function c(){var a=G();T.forEach(function(b){b=E(b),b&&a&&(a.connect(b),a.pushNextNode(b),b.setPrevNode(a),P(a,b))})}function d(a,b){if(U){var c=b||[],e=a||T;e.forEach(function(a,b,e){var f=E(a).getNativeNode();__.isArr(f)&&d(f,c),e===T&&c.push(f)})}}function e(){S=null,T=[],U=""}function f(){T=[],U=""}function g(a,b){return s(a,{settings:{}},b)}function h(a){i()&&(a.setMacroContainerUUID(j().getUUID()),j().addNativeNode(a.getNativeNode()))}function i(){return!!V.length}function j(){return i()?V[V.length-1]:null}function k(){var a=[],b=" ";if(i())for(var c=0;c<V.length;c++)a.push(V[c].getType()),a.push(b);return a.join("")}function l(a,b){a&&a.path&&b?n(a.path,b.getNativeNode()):a&&a.fn&&b&&m(a.fn,b.getNativeNode())}function m(a,b){a&&b&&(b.buffer=a(X))}function n(a,b){a&&b&&o(a,function(a){X.decodeAudioData(a,function(a){b.buffer=a,O("sound loaded")},function(){O("Couldn't load audio")})})}function o(a,b){if(a&&b){var c=new XMLHttpRequest;c.open("GET",a,!0),c.responseType="arraybuffer",c.onload=function(){__.isFun(b)&&b(c.response)},c.send()}}function p(a,b,c,d){for(var e=r(b,d),f=e.path.split("."),g=e.fn||function(a){return a},h=0;h<f.length;h++)h+1<f.length&&__.isNotUndef(a[f[h]])?"AudioParam"===a[f[h]].constructor.name?q(a[f[h]],c):a=a[f[h]]:a&&__.isNotUndef(a[f[h]])&&(a[f[h]]=g(c))}function q(a,b){a&&__.isFun(a.setValueAtTime)&&a.setValueAtTime(b,fb)}function r(a,b){var c=b||{},d=c[a]||a;return d.path?d:{path:d}}function s(a,b,c){var d=new u(a,b,c||{});if(B(d),d.isMacro())return d;for(var e=T.length?T:[G()],g=0;g<e.length;g++){var h=E(e[g]);if(h)try{h.connect(d),h.pushNextNode(d),d.setPrevNode(h),P(h,d)}catch(i){throw console.error("ERROR : couldn't connect nodes "+h.getType()+" and "+d.getType()),i}}return f(),H(d),d}function t(a){var b;if(X&&a.method&&X[a.method]){b=X[a.method].apply(X,a.methodParams||[]);for(var c in a.settings)a.settings.hasOwnProperty(c)&&p(b,c,a.settings[c],a.mapping)}else b=X&&a.method&&!X[a.method]?X.destination:[];return O(b),b}function u(a,b,c){function d(a,b){a.uuid=b,e(m,a)}function e(a,b){a.forEach(function(a,c,d){__.isArr(a)?e(a,b):a.uuid===b.uuid&&(d[c]=b)})}function f(a,b){return a&&a.isModulator()&&b&&!a.areSiblings(b)?{from:g(a,"from"),to:h(b,a.isModulatorType())}:{from:g(a,"from"),to:g(b,"to")}}function g(a,b){if(a){var c=a.getNativeNode();return __.isArr(c)&&(c="from"===b?c[c.length-1]:c[0]),c}return null}function h(a,b){if(a){var c=a.getNativeNode(),d=b;if(__.isArr(c)){for(var e=0;e<c.length;e++)if(d=r(b,E(c[e].uuid).getParamMapping()).path.replace(".value",""),__.isNotUndef(c[e][d])){c=c[e][d];break}}else d=r(b,a.getParamMapping()).path.replace(".value",""),c=c[d]?c[d]:null;return c}return null}var i,j,k,l,m,n,o="",q=!1,s=[],u={},v=this;i=L(),N(c,b.settings),N(c.mapping,b.mapping),k=b,u=b.mapping||b.settings.mapping,l=a,m=t(k),m.uuid=i,this.start=function(a){var b=a||m;if(__.isArr(b))b.forEach(function(a){v.start(a)});else if(b&&__.isFun(b.start)){var c=E(b.uuid);c.getIsPlaying()||(b.start(0),c.setIsPlaying(!0),this.setIsPlaying(!0))}},this.stop=function(a){var b=a||m;if(__.isArr(b))b.forEach(function(a){v.stop(a)});else if(b&&__.isFun(b.stop)){var c=E(b.uuid);c.getIsPlaying()&&(b.stop(0),this.resetNode(b),c.setIsPlaying(!1),this.setIsPlaying(!1))}},this.ramp=function(a,b,c,d,e){var f=d||m;if(__.isArr(f))f.forEach(function(d){v.ramp(a,b,c,d,e)});else{var g=Z?fb:X.currentTime;if(f&&f[c]&&__.isFun(f[c].linearRampToValueAtTime)){f[c].cancelScheduledValues(g);var h=__.ifUndef(e,f[c].value),i=0;if(f[c].setValueAtTime(h,g),__.isArr(a)&&__.isArr(b)&&a.length===b.length)for(var j=0;j<a.length;j++)i=__.isUndef(b[j-1])?0:b[j-1]+i,O(" target "+a[j]+" time "+(X.currentTime+i+b[j])),f[c].linearRampToValueAtTime(a[j],g+i+b[j]);else f[c].linearRampToValueAtTime(a,g+b)}}},this.attr=function(a){for(var b in a)if(a.hasOwnProperty(b)&&__.isNotUndef(a[b])){var c=this.getNativeNode();if(__.isArr(c))J(c).forEach(function(c){var d=a.mapping||E(c.uuid).getParamMapping();p(c,b,a[b],d||{}),O(c)});else{var d=a.mapping||E(c.uuid).getParamMapping();p(c,b,a[b],d||{}),O(c)}}},this.search=function(a){var b=[];if(a)for(var c=this.getMacroNameSpace(),d=c+a,e=F(d),f=0;f<e.length;f++)E(e[f]).getMacroContainerUUID()===this.getUUID()&&b.push(e[f]);return b},this.getMacroNameSpace=function(){return o},this.setMacroNameSpace=function(a){a&&(o=a)},this.isMacro=function(){return __.isArr(m)},this.isMacroComponent=function(){return __.isNotUndef(j)},this.setMacroContainerUUID=function(a){__.isStr(a)&&(j=a)},this.getMacroContainerUUID=function(){return j},this.getIsPlaying=function(){return q},this.setIsPlaying=function(a){q=a},this.getPrevNode=function(){return n},this.setPrevNode=function(a){n=a},this.pushNextNode=function(a){if(a){var b=f(this,a),c=E(b.from.uuid);c.getUUID()!==this.getUUID()?c.pushNextNode(a):s.push(a)}},this.getUUID=function(){return i},this.getParams=function(){return k},this.getParamMapping=function(){return u},this.getType=function(){return l},this.getID=function(){return k.settings.id||""},this.getClass=function(){return k.settings["class"]||""},this.areSiblings=function(a){var b=__.isObj(a)?a.getMacroContainerUUID():__.isStr(a)?E(a).getMacroContainerUUID():"";return b===this.getMacroContainerUUID()},this.isModulator=function(){return this.getMacroContainerUUID()&&E(this.getMacroContainerUUID()).getParams().settings.modulates?!0:!!this.getParams().settings.modulates},this.isModulatorType=function(){return this.isModulator()&&this.getMacroContainerUUID()&&E(this.getMacroContainerUUID()).getParams().settings.modulates?E(this.getMacroContainerUUID()).getParams().settings.modulates:this.isModulator()?this.getParams().settings.modulates:""},this.addNativeNode=function(a){m.push(a)},this.getNativeNode=function(){return m},this.resetNode=function(a){if(this.isMacro())E(a.uuid).resetNode(),d(E(a.uuid).getNativeNode(),a.uuid);else{var b=m.buffer;m=t(k),m.uuid=this.getUUID();for(var c=0;c<s.length;c++)this.connect(s[c]);this.connectPrevious(),this.setIsPlaying(!1),b&&(m.buffer=b)}},this.connect=function(a){if(a&&this.getUUID()!==a.getUUID()){var b=f(this,a);b.from&&__.isFun(b.from.connect)&&b.to?b.from.connect(b.to):O("ERROR - connect did not happen")}},this.connectPrevious=function(){var a=this.getPrevNode();if(a&&this.getUUID()!==a.getUUID()){var b=f(a,this);b.from&&__.isFun(b.from.connect)&&b.to?b.from.connect(b.to):O("ERROR - connect did not happen")}}}function v(){Z||(fb=X.currentTime+_/1e3,ab=setInterval(z,_/1.75),Z=!0)}function w(){Z&&(clearInterval(ab),Z=!1,fb=0)}function x(){$=16,_=100,ab=0,bb=function(){},cb=[],eb=[],db=0,Z=!1,fb=0}function y(a,b,c){a&&($=a.steps||16,_=a.interval||100),__.isFun(b)&&(bb=b),cb=__.isArr(c)&&c.length===$?c:[]}function z(){var a=X.currentTime,b=fb-_/1e3;fb>a&&a>b&&(A(),fb+=_/1e3)}function A(){db=$-1>db?db+1:0,__.isFun(bb)&&bb(db,Y.ifUndef(cb[db],null),cb);for(var a=0;a<eb.length;a++){var b=eb[a],c=T;T=b.selection,b.callback(db,Y.ifUndef(b.data[db],null),b.data),T=c}}function B(a){h(a),C(a),D(a)}function C(a){Q[a.getUUID()]=a}function D(a){var b=a.getParams().settings,c=k();if(__.isObj(b))for(var d in b)if("id"===d)M(R,c+"#"+b[d],a.getUUID());else if("class"===d){var e=b[d].split(",");e.forEach(function(){M(R,c+"."+b[d],a.getUUID())})}M(R,"*",a.getUUID()),M(R,c+a.getType(),a.getUUID())}function E(a){return a&&Q[a]?Q[a]:a&&__.isObj(a)&&"AudioNode"===a.constructor.name?a:__.isObj(a)&&__.isNotUndef(a.uuid)?E(a.uuid):null}function F(a){var b=a.split(","),c=[];return b.forEach(function(a){if(a&&R[a]){var b=R[a];b="id"===I(a)&&__.isArr(b)&&b.length>1?[b[0]]:b,c=K(c.concat(b))}}),c}function G(){return S}function H(a){a&&(S=a)}function I(a){return a.match(/^\./)?"class":a.match(/^\#/)?"id":"type"}function J(a,b){b=b||[];for(var c=0;c<a.length;c++)a[c].constructor===Array?J(a[c],b):b.push(a[c]);return b}function K(a){for(var b=a.concat(),c=0;c<b.length;++c)for(var d=c+1;d<b.length;++d)b[c]===b[d]&&b.splice(d--,1);return b}function L(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})}function M(a,b,c){a&&b&&(a[b]&&a[b].push?a[b].push(c):a[b]=[c])}function N(a,b){a=a||{},b=b||{};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function O(a){W&&console.log(a)}function P(a,b){var c=[a.getType(),a.getID(),b.getType(),b.getID()];O("connected "+c[0]+" - "+c[1]+" to "+c[2]+" - "+c[3])}var Q={},R={},S=null,T=[],U="",V=[],W=!1,X=window.AudioContext?new AudioContext:new webkitAudioContext,Y=a;Y.connect=function(){var b=G();return!b&&T.length&&(b=E(T[0])),a(arguments[0]),H(b),c(),Y},Y.log=function(){var a=[];d(null,a),console.log(a)},Y.size=function(){return T.length?T.length:0},Y.begin=function(a,b){return a&&V.push(g(a,b)),Y},Y.end=function(a){return i()&&j().getType()===a&&(j().setMacroNameSpace(k()),V.pop()),Y},Y.exec=function(a,b,c){var d=T;return T=c,Y[a].apply(Y,b),T=d,Y},Y.filter=function(){var a=[];if(arguments&&arguments.length){var b=arguments[0],c=I(b),d=b.match(/^\.|\#/)?b.substring(1):b;T.forEach(function(b){var e=E(b);("type"===c&&e.getType()===d||"class"===c&&e.getClass()===d||"id"===c&&e.getID()===d)&&a.push(b)})}return a},Y.each=function(a){if(__.isFun(a))for(var b=0;b<T.length;b++)a(E(T[b]),b,T);return Y},Y.script=function(a){function b(a){for(var b=a.inputBuffer.getChannelData(0),d=a.outputBuffer.getChannelData(0),e=0;c>e;e++)d[e]=b[e]}a=a||{};var c=a.buffersize||4096,d=a.channels||1,e=a.fn||b,f={method:"createScriptProcessor",methodParams:[c,d,d],settings:{onaudioprocess:e}};return s("script",f,a),Y},Y.waveshaper=function(a){function b(a){for(var b,c=__.isNum(a)?a:50,d=44100,e=new Float32Array(d),f=Math.PI/180,g=0;d>g;++g)b=2*g/d-1,e[g]=(3+c)*b*20*f/(Math.PI+c*Math.abs(b));return e}a=a||{};var c=__.isObj(a)?Y.ifUndef(a.drive,50):a,d={method:"createWaveShaper",settings:{curve:a.curve||b(c),mapping:{distortion:{path:"curve",fn:function(){return b}()}}}};return s("waveshaper",d,a),Y},Y.compressor=function(a){var b={threshold:"threshold.value",knee:"knee.value",ratio:"ratio.value",attack:"attack.value",release:"release.value"},c={method:"createDynamicsCompressor",settings:{},mapping:b};return s("compressor",c,a),Y},Y.gain=function(a){var b=__.isNum(a)?a:1,c=__.isObj(a)?a:{gain:b},d={method:"createGain",settings:{},mapping:{gain:"gain.value"}};return s("gain",d,c),Y},Y.nativeDelay=function(a){var b={method:"createDelay",methodParams:[179],settings:{},mapping:{delay:"delayTime.value"}};return s("delay",b,a),Y},Y.osc=function(a){var b={method:"createOscillator",settings:{},mapping:{frequency:"frequency.value",detune:"detune.value"}};return s("osc",b,a),Y},Y.biquadFilter=function(a){var b={method:"createBiquadFilter",settings:{},mapping:{q:"Q.value",frequency:"frequency.value",gain:"gain.value"}};return s("biquadFilter",b,a),Y},Y.convolver=function(a){a=a||{};var b={method:"createConvolver",settings:{}},c=s("convolver",b,a);return l(a,c),Y},Y.destination=function(a){return s("destination",{method:"createDestination",settings:{}},a),Y},Y.buffer=function(a){var b={method:"createBufferSource",settings:{},mapping:{speed:"playbackRate.value",start:"loopStart",end:"loopEnd"}},c=s("buffer",b,a);return l(a,c),Y},Y.start=function(){if(!i())for(var a=0;a<T.length;a++){var b=E(T[a]);b&&!b.getIsPlaying()&&b.start(0)}return Y},Y.stop=function(){for(var a=0;a<T.length;a++){var b=E(T[a]);b&&b.getIsPlaying()&&b.stop(0)}return Y},Y.ramp=function(a,b,c,d){for(var e=0;e<T.length;e++){var f=E(T[e]);f&&f.ramp(a,b,c,null,d)}return Y},Y.attr=function(a){for(var b=0;b<T.length;b++){var c=E(T[b]);c&&a&&c.attr(a)}return Y};var Z=!1,$=16,_=100,ab=0,bb=function(){},cb=[],db=0,eb=[],fb=0;Y.loop=function(){return arguments&&arguments.length&&("stop"===arguments[0]?w():"start"===arguments[0]?v():"reset"===arguments[0]?x():arguments[0]&&__.isObj(arguments[0])&&y(arguments[0],arguments[1],arguments[2])),Y},Y.bind=function(a,b,c){return"step"===a&&__.isFun(b)&&eb.push({eventType:a,callback:b,data:c||[],selection:T.slice(0),selector:U}),Y},Y.unbind=function(a){if("step"===a){var b=[];eb.forEach(function(a){U!==a.selector&&b.push(a)}),eb=b}},Y.remove=function(){for(var a=U.split(","),b=0;b<a.length;b++)if(R[a[b]])for(var c=Object.keys(R),d=0;d<c.length;d++){var e=new RegExp(a[b]+"\\s*");if(c[d].match(e)){for(var f=R[c[d]],g=0;g<f.length;g++){delete Q[[c[d]][g]];var h=R["*"].indexOf(R[c[d]][g]);h>-1&&R["*"].splice(h,1)}delete R[c[d]]}}},Y.ifUndef=function(a,b){return"undefined"==typeof a?b:a},Y.isNotUndef=function(a){return"undefined"!=typeof a},Y.isUndef=function(a){return"undefined"==typeof a},Y.isObj=function(a){return a&&"object"==typeof a},Y.isNum=function(a){return null===a||""===a?!1:!isNaN(a)},Y.isStr=function(a){return a&&"string"==typeof a},Y.isArr=function(a){return a&&a instanceof Array},Y.isFun=function(a){return a&&a instanceof Function},function(){-1!==window.location.href.indexOf("debug=true")&&(W=!0)}(),Y._dumpState=function(){console.log(R)},Y._getNode=function(a){return E(a)},window.cracked=Y,window.__=window.__||Y}(),cracked.reverb=function(a){function b(a){var b,c,g=a.sampleRate,h=g*d,i=f,j=a.createBuffer(2,h,g),k=j.getChannelData(0),l=j.getChannelData(1);for(c=0;h>c;c++)b=e?h-c:c,k[c]=(2*Math.random()-1)*Math.pow(1-b/h,i),l[c]=(2*Math.random()-1)*Math.pow(1-b/h,i);return j}var c=__.ifUndef(a,{});c.path||(c.fn=c.fn||b);var d=__.ifUndef(c.seconds,3),e=__.ifUndef(c.reverse,!1),f=__.ifUndef(c.decay,2);return __.begin("reverb",c).convolver(c).end("reverb"),cracked},cracked.delay=function(a){a=__.ifUndef(a,{});var b=__.isObj(a)?__.ifUndef(a.delay,1):a;return __.begin("delay",a),__.gain({id:"delay-input"}).nativeDelay({id:"native-delay",delay:b,mapping:{delay:"delayTime.value"}}).gain({id:"delay-damping",gain:__.ifUndef(a.damping,.84),mapping:{damping:"gain.value"}}).lowpass({id:"delay-cutoff",frequency:__.ifUndef(a.cutoff,1500),mapping:{cutoff:"frequency.value"}}).gain({id:"delay-feedback",gain:__.ifUndef(a.feedback,.5),mapping:{feedback:"gain.value"}}).gain({id:"delay-output"}),__("#delay-feedback").connect("#delay-input"),__("#native-delay").gain(.5).connect("#delay-output"),__.end("delay"),cracked},cracked.comb=function(a){var b=__.ifUndef(a,{});return __.begin("comb",b),__.gain({id:"comb-input"}).nativeDelay({id:"comb-delay",delay:__.ifUndef(b.delay,.027),mapping:{delay:"delayTime.value"}}).gain({id:"comb-damping",gain:__.ifUndef(b.damping,.84),mapping:{damping:"gain.value"}}).lowpass({id:"comb-cutoff",frequency:__.ifUndef(b.cutoff,3e3),mapping:{cutoff:"frequency.value"}}).gain({id:"comb-feedback",gain:__.ifUndef(b.feedback,.84),mapping:{feedback:"gain.value"}}).connect("#comb-input"),__("#comb-damping").gain({id:"output"}),__.end("comb"),cracked},cracked.bitcrusher=function(a){return a=a||{},__.begin("bitcrusher",a),__.script({fn:function(a){function b(a){for(var b=a.inputBuffer.getChannelData(0),c=a.outputBuffer.getChannelData(0),h=0;4096>h;h++)f+=d,f>=1&&(f-=1,g=e*Math.floor(b[h]/e+.5)),c[h]=g}var c=a.bits||6,d=__.ifUndef(a.frequency,.1),e=Math.pow(.5,c),f=0,g=0;return b}(a)}),__.end("bitcrusher"),cracked},cracked.ring=function(a){function b(a){var b,c,d,e,f,g,h,i,j,k;for(i=.2,j=.4,k=__.ifUndef(a,1),c=1024,f=new Float32Array(c),b=g=0,h=f.length;h>=0?h>g:g>h;b=h>=0?++g:--g)d=(b-c/2)/(c/2),d=Math.abs(d),e=i>=d?0:d>i&&j>=d?k*(Math.pow(d-i,2)/(2*j-2*i)):k*d-k*j+k*(Math.pow(j-i,2)/(2*j-2*i)),f[b]=e;return f}var c=a||{},d=b(__.ifUndef(c.distortion,1));return __.begin("ring",a),__.gain({id:"player"}).gain({id:"vcInverter1",gain:-1}).waveshaper({id:"vcDiode3",curve:d,mapping:{distortion:{path:"curve",fn:function(){return b}()}}}).compressor({threshold:-12}),__("#player").waveshaper({id:"vInDiode4",curve:d,mapping:{distortion:{path:"curve",fn:function(){return b}()}}}).connect("compressor"),__().sine({id:"vIn",frequency:c.frequency||30,mapping:{frequency:"frequency.value"}}).gain({id:"vInGain",gain:.5}).gain({id:"vInInverter1",gain:-1}).gain({id:"vInInverter2",gain:-1}).waveshaper({id:"vInDiode1",curve:d,mapping:{distortion:{path:"curve",fn:function(){return b}()}}}).gain({id:"vInInverter3",gain:-1}).connect("compressor"),__("#vInGain").connect("#vInDiode4"),__("#vInGain").connect("#vcInverter1"),__("#vInInverter1").waveshaper({id:"vInDiode2",curve:d,mapping:{distortion:{path:"curve",fn:function(){return b}()}}}).connect("#vInInverter3"),__("compressor").gain({id:"outGain",gain:4}),__.end("ring"),cracked},cracked.overdrive=function(a){function b(a){for(var b=100*a,c=22050,d=new Float32Array(c),e=Math.PI/180,f=0;c>f;f++){var g=2*f/c-1;d[f]=(3+b)*g*20*e/(Math.PI+b*Math.abs(g))}return d}a=a||{};var c=__.isObj(a)?__.ifUndef(a.drive,.5):a;return __.begin("overdrive",a),__.gain({id:"input"}).bandpass({frequency:__.ifUndef(a.color,800),mapping:{color:"frequency.value"}}).waveshaper({curve:b(c),mapping:{drive:{path:"curve",fn:function(){return b}()}}}).lowpass({frequency:__.ifUndef(a.postCut,3e3),mapping:{postCut:"frequency.value"}}).gain({id:"output"}),__.end("overdrive"),cracked},cracked.adsr=function(a){function b(a,b){var c,d=a||b,e=[0,0,0,0,0],f=d||.5;if(__.isArr(f)){if(5===f.length)e=f;else if(4===f.length){var g=f[0]+f[1]+f[3];e=[f[0],f[1],f[2],g/3,f[3]]}}else __.isNum(f)?(c=f/4,e=[c,c,.5,c,c]):__.isStr(f)&&(f="slow"===f?1:"fast"===f?.25:.5,c=f/4,e=[c,c,.5,c,c]);return e}var c={init:function(a){a=a||{},a=__.isNum(a)||__.isArr(a)||__.isStr(a)?{envelope:a}:a,__.begin("adsr",a).gain({gain:0}).end("adsr")},trigger:function(a){cracked.each(function(c){if("adsr"===c.getType()){var d=b(a,c.getParams().settings.envelope);c.ramp([1,d[2],d[2],0],[d[0],d[1],d[3],d[4]],"gain",null,0)}})},release:function(){cracked.each(function(a){"adsr"===a.getType()&&a.ramp(0,.1,"gain")})}};return c[a]?c[a].apply(this,Array.prototype.slice.call(arguments,1)):c.init(a),cracked},cracked.foo=function(a){return __.begin("foo",a).lowpass().gain().compressor().end("foo"),cracked},cracked.bar=function(a){return __().begin("bar",a).buffer({path:"../data/various/gun-cock.wav",loop:!0}).gain().end("bar"),cracked},cracked.dalek=function(a){return __().begin("dalek",a).buffer({path:"../data/various/ringmod_good-dalek.wav",loop:!0}).gain().end("dalek"),cracked},cracked.junk=function(a){return __.begin("junk",a).foo().end("junk"),cracked},cracked.komb=function(a){return __.begin("komb",a).gain({id:"input"}).delay({time:.025}).gain({id:"output"}),__("#output").gain({gain:.85,id:"feedback"}).connect("#input").end("komb"),cracked},cracked.lowpass=function(a){var b=__.isNum(a)?a:440,c=__.isObj(a)?a:{},d={};return d.type=c.type||"lowpass",d.frequency=c.frequency||b,d.q=__.ifUndef(c.q,0),d.mapping=c.mapping||{},__.begin("lowpass",c).biquadFilter(d).end("lowpass"),cracked},cracked.highpass=function(a){var b=__.isNum(a)?a:440,c=__.isObj(a)?a:{},d={};return d.type=c.type||"highpass",d.frequency=c.frequency||b,d.q=__.ifUndef(c.q,0),d.mapping=c.mapping||{},__.begin("highpass",c).biquadFilter(d).end("highpass"),cracked},cracked.bandpass=function(a){var b=__.isNum(a)?a:440,c=__.isObj(a)?a:{},d={};return d.type=c.type||"bandpass",d.frequency=c.frequency||b,d.q=__.ifUndef(c.q,0),d.mapping=c.mapping||{},__.begin("bandpass",c).biquadFilter(d).end("bandpass"),cracked},cracked.lowshelf=function(a){var b=__.isNum(a)?a:440,c=__.isObj(a)?a:{},d={};return d.type=c.type||"lowshelf",d.frequency=c.frequency||b,d.q=__.ifUndef(c.q,0),d.gain=__.ifUndef(c.gain,0),d.mapping=c.mapping||{},__.begin("lowshelf",c).biquadFilter(d).end("lowshelf"),cracked},cracked.highshelf=function(a){var b=__.isNum(a)?a:440,c=__.isObj(a)?a:{},d={};return d.type=c.type||"highshelf",d.frequency=c.frequency||b,d.gain=__.ifUndef(c.gain,0),d.q=__.ifUndef(c.q,0),d.mapping=c.mapping||{},__.begin("highshelf",c).biquadFilter(d).end("highshelf"),cracked},cracked.peaking=function(a){var b=__.isNum(a)?a:440,c=__.isObj(a)?a:{},d={};return d.type=c.type||"peaking",d.frequency=c.frequency||b,d.q=__.ifUndef(c.q,0),d.gain=__.ifUndef(c.gain,0),d.mapping=c.mapping||{},__.begin("peaking",c).biquadFilter(d).end("peaking"),cracked},cracked.notch=function(a){var b=__.isNum(a)?a:440,c=__.isObj(a)?a:{},d={};return d.type=c.type||"notch",d.frequency=c.frequency||b,d.q=__.ifUndef(c.q,10),d.mapping=c.mapping||{},__.begin("notch",c).biquadFilter(d).end("notch"),cracked},cracked.allpass=function(a){var b=__.isNum(a)?a:440,c=__.isObj(a)?a:{},d={};return d.type=c.type||"allpass",d.frequency=c.frequency||b,d.q=__.ifUndef(c.q,10),d.mapping=c.mapping||{},__.begin("allpass",c).biquadFilter(d).end("allpass"),cracked},cracked.dac=function(a){var b=__.isNum(a)?a:1,c=__.isObj(a)?a:{},d={};return d.mapping=c.mapping||{},__.begin("dac",c).gain(b).destination().end("dac"),cracked},cracked.sampler=function(a){return a&&a.path&&__.begin("sampler",a).buffer(a).end("sampler"),cracked},cracked.lfo=function(a){var b=a||{};return b.modulates=b.modulates||"frequency","white"===b.type||"pink"===b.type||"brown"===b.type?__().begin("lfo",b).noise({type:b.type||"white",channels:b.channels||1,length:b.length||1}).gain({gain:__.ifUndef(b.gain,1e3)}).end("lfo"):__().begin("lfo",b).osc({type:b.type||"sawtooth",frequency:b.frequency||6}).gain({gain:__.ifUndef(b.gain,1e3)}).end("lfo"),cracked},cracked.noise=function(a){var b=a||{};return"brown"===b.type?__.begin("noise",b).brown(b).end("noise"):"pink"===b.type?__.begin("noise",b).pink(b).end("noise"):__.begin("noise",b).white(b).end("noise"),cracked},cracked.pink=function(a){function b(a){function b(a){var b,c,d,e,f=a,g=[0,0,0,0,0,0,0],h=[];for(d=0;d<f.numberOfChannels;d++){for(h[d]=new Float32Array(f.length),b=f.getChannelData(d),e=0;e<f.length;e++)c=b[e],g[0]=.99886*g[0]+.0555179*c,g[1]=.99332*g[1]+.0750759*c,g[2]=.969*g[2]+.153852*c,g[3]=.8665*g[3]+.3104856*c,g[4]=.55*g[4]+.5329522*c,g[5]=-.7616*g[5]-.016898*c,h[d][e]=g[0]+g[1]+g[2]+g[3]+g[4]+g[5]+g[6]+.5362*c,h[d][e]*=.11,g[6]=.115926*c;g=[0,0,0,0,0,0,0]}for(d=0;d<f.numberOfChannels;d++)for(e=0;e<f.length;e++)f.getChannelData(d)[e]=h[d][e]}for(var c,f=a.createBuffer(d,e*a.sampleRate,a.sampleRate),g=0;g<f.length;g++){c=2*Math.random()-1;for(var h=0;h<f.numberOfChannels;h++)f.getChannelData(h)[g]=2===f.numberOfChannels?2*Math.random()-1:c}return b(f),f}var c=a||{},d=c.channels||1,e=c.length||1;return __().begin("pink",c).buffer({fn:b,loop:!0}).end("pink"),cracked},cracked.white=function(a){function b(a){for(var b=a.createBuffer(d,e*a.sampleRate,a.sampleRate),c=b.length,f=b.numberOfChannels,g=0;c>g;g++)for(var h=0;f>h;h++)b.getChannelData(h)[g]=2*Math.random()-1,b.getChannelData(h)[g]*=.44;return b}var c=a||{},d=c.channels||1,e=c.length||1;return __().begin("white",c).buffer({fn:b,loop:!0}).end("white"),cracked},cracked.brown=function(a){function b(a){for(var b=a.createBuffer(d,e*a.sampleRate,a.sampleRate),c=0,f=0;f<b.length;f++)for(var g=0;g<b.numberOfChannels;g++){var h=2*Math.random()-1;b.getChannelData(g)[f]=(c+.02*h)/1.02,c=b.getChannelData(g)[f],b.getChannelData(g)[f]*=3.5}return b}var c=a||{},d=c.channels||1,e=c.length||1;return __().begin("brown",c).buffer({fn:b,loop:!0}).end("brown"),cracked},cracked.sine=function(a){var b=__.isNum(a)?a:440,c=__.isObj(a)?a:{},d={};return d.type=c.type||"sine",d.frequency=c.frequency||b,d.detune=c.detune||0,d.mapping=c.mapping||{},__.begin("sine",c).osc(d).end("sine"),cracked},cracked.square=function(a){var b=__.isNum(a)?a:440,c=__.isObj(a)?a:{},d={};return d.type=c.type||"square",d.frequency=c.frequency||b,d.detune=c.detune||0,d.mapping=c.mapping||{},__.begin("square",c).osc(d).end("square"),cracked},cracked.saw=function(a){var b=__.isNum(a)?a:440,c=__.isObj(a)?a:{},d={};return d.type=c.type||"sawtooth",d.frequency=c.frequency||b,d.detune=c.detune||0,d.mapping=c.mapping||{},__.begin("saw",c).osc(d).end("saw"),cracked},cracked.triangle=function(a){var b=__.isNum(a)?a:440,c=__.isObj(a)?a:{},d={};return d.type=c.type||"triangle",d.frequency=c.frequency||b,d.detune=c.detune||0,d.mapping=c.mapping||{},__.begin("triangle",c).osc(d).end("triangle"),cracked},cracked.monosynth=function(a){var b={init:function(){__().begin("monosynth",a).lfo({gain:0}).sine().lowpass({q:0}).adsr().gain().end("monosynth")},noteOn:function(a){var b=a||{},c=__.pitch2freq(__.isNum(a)?a:b.pitch),d=b.envelope||1;cracked.each(function(a){"monosynth"===a.getType()&&(cracked.exec("frequency",[c],a.search("sine")),cracked.exec("adsr",["trigger",d],a.search("adsr")))})},noteOff:function(){cracked.each(function(a){"monosynth"===a.getType()&&cracked.exec("adsr",["release",[]],a.search("adsr"))})}};return b[a]?b[a].apply(this,Array.prototype.slice.call(arguments,1)):b.init(a),cracked},cracked.cracksynth=function(a){var b={init:function(){__().begin("cracksynth",a).lfo({gain:100}).sine().lowpass({q:20}).adsr().gain().end("cracksynth")},noteOn:function(a){var b=a||{},c=__.pitch2freq(__.isNum(a)?a:b.pitch),d=b.envelope||1;cracked.each(function(a){"cracksynth"===a.getType()&&(cracked.exec("frequency",[c],a.search("sine")),cracked.exec("adsr",["trigger",d],a.search("adsr")),cracked.exec("ramp",[[100,10],[.5*d,.5*d],"frequency",10],a.search("lfo")),cracked.exec("ramp",[[c/2,3*c],[.1*d,.9*d],"frequency",3*c],a.search("lowpass")))})},noteOff:function(){cracked.each(function(a){"cracksynth"===a.getType()&&cracked.exec("adsr",["release",[]],a.search("adsr"))})}};return b[a]?b[a].apply(this,Array.prototype.slice.call(arguments,1)):b.init(a),cracked},cracked.frequency=function(a){return __.isNum(a)&&cracked.attr({frequency:a}),cracked},cracked.detune=function(a){return __.isNum(a)&&cracked.attr({detune:a}),cracked},cracked.volume=function(a){return __.isNum(a)&&cracked.attr({gain:a}),cracked},cracked.time=function(a){return __.isNum(a)&&cracked.attr({delay:a}),cracked},cracked.feedback=function(a){return __.isNum(a)&&cracked.attr({feedback:a}),cracked},cracked.speed=function(a){return __.isNum(a)&&cracked.attr({speed:a}),cracked},cracked.drive=function(a){return __.isNum(a)&&cracked.attr({drive:a}),cracked},cracked.distortion=function(a){return __.isNum(a)&&cracked.attr({distortion:a}),cracked},cracked.play=function(){return cracked("*").start(),cracked},cracked.scale=function(a){return{major:[0,2,4,5,7,9,11],minor:[0,2,3,5,7,8,10]}[a]},cracked.pitch2freq=function(a){return 440*Math.pow(2,(Math.floor(a)-69)/12)},cracked.random=function(a,b){return Math.round(a+Math.random()*(b-a))};